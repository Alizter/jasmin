export
fn f(reg u8 b, reg u64 x y) -> reg u64 {
  reg u64 r;
  reg bool c;

  r = x;
  c = b == 1;
  r = y if c;
  r = x if c;

  c = x <s y;
  r = y if c;
  r = x if c;

  c = x <u y;
  r = y if c;
  r = x if c;

  c = x <=s y;
  r = y if c;
  r = x if c;

  c = x <=u y;
  r = y if c;
  r = x if c;

  c = x == y;
  r = y if c;
  r = x if c;

  c = x >=u y;
  r = y if c;
  r = x if c;

  c = x >=s y;
  r = y if c;
  r = x if c;

  c = x >u y;
  r = y if c;
  r = x if c;

  c = x >s y;
  r = y if c;
  r = x if c;

  reg bool cf zf sf of b;

  {cf,zf,sf,of, "==" = b} = #CMP_64(x,y);
  r = y if b;
 
  return r;
}
