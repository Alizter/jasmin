export fn foo (reg u64 x) {
  reg u128 xmm xmm_;
  reg u256 ymm ymm_;
  reg u8 w8;
  reg u16 w16;
  reg u32 w32;
  reg u64 w64;

  w8  = x;
  w16 = x;
  w32 = x;
  w64 = x;
  xmm = #VPBROADCAST_16u8(w8);
  xmm_ = xmm;
  xmm = #VPBROADCAST_8u16(w16);
  xmm_ ^= xmm;
  xmm = #VPBROADCAST_4u32(w32);
  xmm_ ^= xmm; 
  xmm = #VPBROADCAST_2u64(w64);
  xmm_ ^= xmm;
  (u128)[x] = xmm_;

  ymm = #VPBROADCAST_32u8(w8);
  ymm_ = ymm;
  ymm = #VPBROADCAST_16u16(w16);
  ymm_ ^= ymm;
  ymm = #VPBROADCAST_8u32(w32);
  ymm_ ^= ymm; 
  ymm = #VPBROADCAST_4u64(w64);
  ymm_ ^= ymm;

  (u256)[x] = ymm_;

}