fn test() {
    x : reg u64[10];
    y : reg u64[10];
    z : reg u64[100];
    i,j : inline u64;
    
    for i in 0..10 {
        x[i] = i;
        y[i] = i*i;
    }
   
    for i in 0..3 {
        for j in 0..3 {
            z[j*10 + i] = x[i] + y[i];
        }
    }
}

/*
START:CMD
#ARG="renumber_module_unique,save[/tmp/before.mil][],cert_inline[test],save[/tmp/after.mil][]"
#ARG="renumber_module_unique,cert_unroll[test],typecheck,print[after_unrolling]"
ARG="renumber_module_unique,cert_unroll[test],typecheck"
END:CMD
*/
